/* Mega urlbar styling */
:root {
    --mbarstyler-popout-pixels: 1px;
    --mbarstyler-top-bar-display: block;
    --mbarstyler-title-font-size: 15px;
    --mbarstyler-url-font-size: 13px;
    --mbarstyler-max-rows-without-scrolling: 10;
    --mbarstyler-bottom-border-width: 0px;
    --mbarstyler-match-weight: 700;
    --mbarstyler-match-background-opacity: 0;
  }
  #urlbar[breakout][breakout-extend] {
    top: calc(5px - var(--mbarstyler-popout-pixels)) !important;
    left: calc(0px - var(--mbarstyler-popout-pixels)) !important;
    width: calc(100% + (2 * var(--mbarstyler-popout-pixels))) !important;
    padding: var(--mbarstyler-popout-pixels) !important;
  }
  [uidensity="compact"] #urlbar[breakout][breakout-extend] {
    top: calc(3px - var(--mbarstyler-popout-pixels)) !important;
  }
  [uidensity="touch"] #urlbar[breakout][breakout-extend] {
    top: calc(4px - var(--mbarstyler-popout-pixels)) !important;
  }
  #urlbar[breakout][breakout-extend] > #urlbar-input-container {
    height: var(--urlbar-height) !important;
    padding: 0 !important;
  }
  #urlbar[breakout][breakout-extend] > #urlbar-background {
    animation: none !important;
  }
  #urlbar[breakout][breakout-extend] > #urlbar-background {
    box-shadow: none !important;
  }
  .urlbarView-row:first-of-type {
    display: var(--mbarstyler-top-bar-display) !important;
  }
  #urlbarView-results,
  #urlbar-results {
    height: unset !important;
    max-height: calc(
      2.5 *
        (
          var(--mbarstyler-title-font-size) +
            var(--mbarstyler-bottom-border-width)
        ) * var(--mbarstyler-max-rows-without-scrolling)
    ) !important;
  }
  #urlbar-results {
    overflow-y: auto !important;
  }
  #urlbar-results {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
  }
  .urlbarView-row:not(:last-of-type) {
    border-bottom: var(--mbarstyler-bottom-border-width) solid rgba(0, 0, 0, 0.1) !important;
  }
  .urlbarView-row:not([selected]) .urlbarView-title strong,
  .urlbarView-row:not([selected]) .urlbarView-url strong {
    font-weight: var(--mbarstyler-match-weight) !important;
    border-radius: 2px;
    box-shadow: inset 0 0 1px 1px
      rgba(0, 0, 0, calc(var(--mbarstyler-match-background-opacity) * 2));
    background-color: rgba(0, 0, 0, var(--mbarstyler-match-background-opacity));
  }
  [lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-title strong,
  [lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-url strong {
    box-shadow: inset 0 0 1px 1px
      rgba(255, 255, 255, calc(var(--mbarstyler-match-background-opacity) * 2));
    background-color: rgba(
      255,
      255,
      255,
      var(--mbarstyler-match-background-opacity)
    );
  }
  [lwthemetextcolor="bright"]
    .urlbarView-row:not([selected])
    .urlbarView-title
    strong,
  [lwthemetextcolor="bright"]
    .urlbarView-row:not([selected])
    .urlbarView-url
    strong {
    box-shadow: inset 0 0 1px 1px
      rgba(192, 192, 192, calc(var(--mbarstyler-match-background-opacity) * 4));
    background-color: rgba(
      192,
      192,
      192,
      calc(var(--mbarstyler-match-background-opacity) * 3)
    );
  }
  
  /* change urlbar border highlight to transparent */
  #urlbar-background {
    border-color: #1c00ff00 !important;
  }
  #urlbar[focused] > #urlbar-background {
    border-color: #1c00ff00 !important;
  }
  
  /* add-on identity box camouflage */
  #identity-box.extensionPage > .identity-box-button {
    background-color: transparent !important;
  }
  #identity-icon-label {
    display: none !important;
  }