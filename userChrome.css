/* Mega urlbar styling */
:root {
    --mbarstyler-popout-pixels: 1px;
    --mbarstyler-top-bar-display: block;
    --mbarstyler-title-font-size: 15px;
    --mbarstyler-url-font-size: 13px;
    --mbarstyler-max-rows-without-scrolling: 10;
    --mbarstyler-bottom-border-width: 0px;
    --mbarstyler-match-weight: 700;
    --mbarstyler-match-background-opacity: 0;
}
#urlbar[breakout][breakout-extend] {
    top: calc(5px - var(--mbarstyler-popout-pixels)) !important;
    left: calc(0px - var(--mbarstyler-popout-pixels)) !important;
    width: calc(100% + (2 * var(--mbarstyler-popout-pixels))) !important;
    padding: var(--mbarstyler-popout-pixels) !important;
}
[uidensity="compact"] #urlbar[breakout][breakout-extend] {
    top: calc(3px - var(--mbarstyler-popout-pixels)) !important;
}
[uidensity="touch"] #urlbar[breakout][breakout-extend] {
    top: calc(4px - var(--mbarstyler-popout-pixels)) !important;
}
#urlbar[breakout][breakout-extend] > #urlbar-input-container {
    height: var(--urlbar-height) !important;
    padding: 0 !important;
}
#urlbar[breakout][breakout-extend] > #urlbar-background {
    animation: none !important;
}
#urlbar[breakout][breakout-extend] > #urlbar-background {
    box-shadow: none !important;
}
.urlbarView-row:first-of-type {
    display: var(--mbarstyler-top-bar-display) !important;
}
#urlbarView-results,
#urlbar-results {
    height: unset !important;
    max-height: calc(
        2.5 * (var(--mbarstyler-title-font-size) + var(--mbarstyler-bottom-border-width)) *
            var(--mbarstyler-max-rows-without-scrolling)
    ) !important;
}
#urlbar-results {
    overflow-y: auto !important;
}
#urlbar-results {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}
.urlbarView-row:not(:last-of-type) {
    border-bottom: var(--mbarstyler-bottom-border-width) solid rgba(0, 0, 0, 0.1) !important;
}
.urlbarView-row:not([selected]) .urlbarView-title strong,
.urlbarView-row:not([selected]) .urlbarView-url strong {
    font-weight: var(--mbarstyler-match-weight) !important;
    border-radius: 2px;
    box-shadow: inset 0 0 1px 1px
        rgba(0, 0, 0, calc(var(--mbarstyler-match-background-opacity) * 2));
    background-color: rgba(0, 0, 0, var(--mbarstyler-match-background-opacity));
}
[lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-title strong,
[lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-url strong {
    box-shadow: inset 0 0 1px 1px
        rgba(255, 255, 255, calc(var(--mbarstyler-match-background-opacity) * 2));
    background-color: rgba(255, 255, 255, var(--mbarstyler-match-background-opacity));
}
[lwthemetextcolor="bright"] .urlbarView-row:not([selected]) .urlbarView-title strong,
[lwthemetextcolor="bright"] .urlbarView-row:not([selected]) .urlbarView-url strong {
    box-shadow: inset 0 0 1px 1px
        rgba(192, 192, 192, calc(var(--mbarstyler-match-background-opacity) * 4));
    background-color: rgba(192, 192, 192, calc(var(--mbarstyler-match-background-opacity) * 3));
}

/* Adds icons to main menu items which were removed in Proton, courtesy of u/MrOtherGuy */
#appMenu-fxa-status2[fxastatus] > toolbarbutton::before,
#appMenu-protonMainView > .panel-subview-body > toolbarbutton > image {
    fill: currentColor;
    -moz-context-properties: fill;
    margin-inline: 0 8px !important;
}
#appMenu-new-tab-button2 {
    list-style-image: url("chrome://browser/skin/new-tab.svg");
}
#appMenu-new-window-button2 {
    list-style-image: url("chrome://browser/skin/window.svg");
}
#appMenu-new-private-window-button2 {
    list-style-image: url("chrome://browser/skin/privateBrowsing.svg");
}
#appMenu-bookmarks-button {
    list-style-image: url("chrome://browser/skin/bookmark-star-on-tray.svg");
}
#appMenu-history-button {
    list-style-image: url("chrome://browser/skin/history.svg");
}
#appMenu-downloads-button {
    list-style-image: url("chrome://browser/skin/downloads/downloads.svg");
}
#appMenu-passwords-button {
    list-style-image: url("chrome://browser/skin/login.svg");
}
#appMenu-extensions-themes-button {
    list-style-image: url("chrome://mozapps/skin/extensions/extension.svg");
}
#appMenu-print-button2 {
    list-style-image: url("chrome://global/skin/icons/print.svg");
}
#appMenu-save-file-button2 {
    list-style-image: url("chrome://browser/skin/save.svg");
}
#appMenu-find-button2 {
    list-style-image: url("chrome://global/skin/icons/search-glass.svg");
}
#appMenu-settings-button {
    list-style-image: url("chrome://global/skin/icons/settings.svg");
}
#appMenu-more-button2 {
    list-style-image: url("chrome://browser/skin/developer.svg");
}
#appMenu-help-button2 {
    list-style-image: url(chrome://global/skin/icons/info.svg);
}
#appMenu-quit-button2 {
    list-style-image: url(chrome://browser/skin/quit.svg);
}
#appMenu-fxa-status2[fxastatus] > toolbarbutton::before {
    display: -moz-box;
    content: "";
    width: 16px;
    height: 16px;
    background-image: var(--avatar-image-url);
}
#appMenu-protonMainView > .panel-subview-body::after {
    content: "";
    display: -moz-box;
    border-bottom: 1px solid var(--panel-separator-color);
    margin: var(--panel-separator-margin);
}
#appMenu-find-button2 ~ * {
    -moz-box-ordinal-group: 2;
}

/* Animated fox in about:firefox */
@-moz-document url("chrome://browser/content/aboutDialog.xhtml")
{
    #leftBox {
        background-image: url("https://i.imgur.com/8GWr0St.gif") !important;
        background-position: left !important;
        background-repeat: no-repeat !important;
    }
    #aboutDialogContainer {
        min-height: 350px !important;
        max-height: 400px !important;
        background-color: #191a2a !important;
        border: 0px !important;
        font-family: Fira Sans !important;
        font-size: inherit !important;
        font-weight: normal !important;
        color: #1e90ff !important;
    }
    #bottomBox {
        background: none !important;
    }
    #update-available-whats-new,
    .text-link {
        color: #ffffff !important;
        font-family: Fira Sans !important;
        font-style: normal !important;
    }
}

/* Disable facebook container bar */
.tab-context-line {
    display: none !important;
}

/* Disable open link in new container from context menu */
#context-openlinkinusercontext-menu {
    display: none !important;
}

/* Remove context navigation and context line separator from context menu */
#context-navigation,
#context-sep-navigation {
    display: none !important;
}

/* remove search with from context menu and its line separator */
#context-searchselect,
#frame-sep,
#context-sep-sendlinktodevice {
    display: none !important;
}

/* remove add to search engines from urlbar context menu */
.menuitem-iconic.context-menu-add-engine,
.menuseparator-add-engine {
    display: none !important;
}


/* colourful bookmarker folder */
.bookmark-item[container] {
    list-style-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8cGF0aCBkPSJNMTQuNSAzSDYuOTE0YS41LjUgMCAwIDEtLjM1NC0uMTQ2TDUuMTQ2IDEuNDM5QTEuNDkxIDEuNDkxIDAgMCAwIDQuMDg2IDFIMS41QTEuNSAxLjUgMCAwIDAgMCAyLjV2MTFBMS41IDEuNSAwIDAgMCAxLjUgMTVoMTNhMS41IDEuNSAwIDAgMCAxLjUtMS41di05QTEuNSAxLjUgMCAwIDAgMTQuNSAzem0uNSAxMC41YS41LjUgMCAwIDEtLjUuNWgtMTNhLjUuNSAwIDAgMS0uNS0uNVY2aDE0ek0xIDVWMi41YS41LjUgMCAwIDEgLjUtLjVoMi41ODZhLjUuNSAwIDAgMSAuMzU0LjE0NmwxLjQxNCAxLjQxNUExLjQ5MSAxLjQ5MSAwIDAgMCA2LjkxNCA0SDE0LjVhLjUuNSAwIDAgMSAuNS41VjV6IiBmaWxsPSIjYjE4NTAyIi8+DQogIDxwYXRoIGQ9Ik0xNSAxMy41YS41LjUgMCAwIDEtLjUuNWgtMTNhLjUuNSAwIDAgMS0uNS0uNVY2aDE0eiIgZmlsbC1vcGFjaXR5PSIuOCIgZmlsbD0iI2ZmZTA4MiIvPg0KICA8cGF0aCBkPSJNMSA1VjIuNWEuNS41IDAgMCAxIC41LS41aDIuNTg2YS41LjUgMCAwIDEgLjM1NC4xNDZsMS40MTQgMS40MTVBMS40OTEgMS40OTEgMCAwIDAgNi45MTQgNEgxNC41YS41LjUgMCAwIDEgLjUuNVY1eiIgZmlsbC1vcGFjaXR5PSIuNiIgZmlsbD0iI2ZmZTA4MiIvPg0KICA8cGF0aCBkPSJNMTUgMTMuNWEuNS41IDAgMCAxLS41LjVoLTEzYS41LjUgMCAwIDEtLjUtLjVWMTNoMTR6IiBmaWxsLW9wYWNpdHk9Ii41IiBmaWxsPSIjZmZlMDgyIi8+DQo8L3N2Zz4=") !important;
  }
  
/* New tab button alignment fix */
#tabs-newtab-button,
#new-tab-button {
    margin-top: 1px !important;
}
